<!doctype html>
<html>

<head>
  <title>JSMessenger</title>
  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <style type='text/css'>
    html {
      font-family: -apple-system;
    }
    
    h1 {
      color: #e74c3c;
      font-size: 24px;
      margin-top: 44px;
    }
    
    button {
      font-size: 12px;
    }
  </style>
</head>
<script>
  (function() {
    var iframe = document.createElement('iframe');
    iframe.style.display = 'none';
    iframe.src = 'jsmessenger://init';
    document.documentElement.appendChild(iframe);
    setTimeout(function() {
      document.documentElement.removeChild(iframe)
    }, 0)
  })()

  function sendMessage() {
    JSMessenger.msgSend("JSMessageHandler", "foo:bar:", [1024, 1024], function(resp) {
      alert(resp.data);
    });
  }

  function foobar(a, b) {
    var text = a + ", " + b;
    alert(text);
    return text;
  }
</script>

<body>
  <h1>JSMessenger Demo</h1>
  <button onclick="sendMessage()">Send Message to Native</button>
</body>

</html>